schema {
    query: Query
    mutation: Mutation
}

type DateTime {
    year: Int
    month: Int
    day: Int
    hour: Int
    minute: Int
    second: Int
    timezone: String
}

type Tag {
    id: ID
    name: String
    description: String
}

type Equation {
    id: ID
    latex: String
    tags: [Tag]

    mathml: String
    type: String
    category: String
}

type EquationResult {
    equation: Equation
    similarity: Float
}

type SearchResult {
    numberofresults: Int
    equations: [EquationResult]
}

type Comment {
    problemid: ID
    datetiem: DateTime
    useremail: String
    comment: String
}

type User {
    useremail: String
    username: String
    apikey: String
    isadmin: Boolean
}

type CommentSuccess {
    success: Boolean
    msg: String
    comment: Comment
}

type AuthenticateUser {
    success: Boolean
    msg: String
    user: User
}

type Query {
    Search(input: String, islogedin: Boolean, useremail: String, apikey: String): SearchResult
    GetAllEquations: [Equation]
    APIStatus: String

    GetUserHistory(useremail: String, apikey: String): [Equation]

    GetAllComments: [Comment]
    GetComments(problemid: ID): [Comment]
    GetFavoriteProblems(useremail: String): [Equation]

    AuthenticateLogin(useremail: String, passwordsalt: String): AuthenticateUser
}

type Mutation {
    CreateComment(problemid: String, useremail: String, apikey: String, comment: String): CommentSuccess
    AddFavorite(problemid: String, useremail: String, apikey: String): Boolean

    AddUserSearchClick(problemid: String, useremail: String, apikey: String): Boolean

    UserSignUp(useremail: String, password: String): AuthenticateUser
}